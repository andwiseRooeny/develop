---
description: 작업을 시작하기 전 "계획(PRD) 수립"부터 "실행(Implementation)" 및 "검증(Verification)"까지 원스톱으로 수행하는 통합 워크플로우입니다.
---

이 워크플로우는 **"완벽한 설계와 안정적인 이행"**을 동시에 추구합니다. 하나의 흐름 내에서 계획과 실행을 유기적으로 연결합니다.

<!-- 📚 참조 문서 시작 -->
**[Header]**: 
- [개발-공통-준수-규칙](./개발-공통-준수-규칙.md)
- [분석-레퍼런스-문서-템플릿](./분석-레퍼런스-문서-템플릿.md)
<!-- 📚 참조 문서 끝 -->

---

## 🚨 최강 지침: CRUD 승인 필수 (ABSOLUTE RULE)

> [!CAUTION]
> **파일/폴더 생성·수정·삭제(CRUD) 작업 전 반드시 사용자 승인 필요**

- 모든 파일/폴더 조작 전 사용자에게 **예/아니오 (YES/NO, 1/2)** 확인 요청
- 승인 응답을 받기 전까지 CRUD 실행 절대 금지
- **예외**: 순수 조회 작업(`view_file`, `list_dir`, `grep_search`)은 승인 불필요

```
⚠️ 승인 요청 형식:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 **CRUD 작업 승인 요청**

| 작업 | 대상 경로 | 내용 요약 |
|------|-----------|-----------|
| 생성/수정/삭제 | [경로] | [변경 내용] |

▶ 진행하시겠습니까? (예/아니오 또는 1/2)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 📚 기존 문서 보존 규칙 (CRITICAL)

> [!WARNING]
> **기존 내용 망각 금지 - 누적 기록 원칙**

기존 `_DASHBOARD.md`나 `Status.md`에 이미 내용이 있는 경우:

1. **사전 확인 필수**: 문서 수정 전 반드시 `view_file`로 기존 내용을 먼저 확인
2. **누적 추가**: 새 내용은 기존 내용에 **추가(Append)** 형태로 작성
3. **덮어쓰기 금지**: 기존 내용을 삭제하거나 마치 다른 작업인 것처럼 새로 작성하는 것 절대 금지
4. **맥락 연속성**: 이전 작업의 흐름과 히스토리를 반드시 유지

```
❌ 금지 행위:
- 기존 Status.md 내용을 모두 지우고 새로 작성
- Dashboard에서 진행 중인 작업을 무시하고 새 작업만 등록
- 이전 Task의 Walkthrough 기록을 덮어쓰기
- write_to_file의 Overwrite=true 사용 (신규 파일 생성 시에만 허용)

✅ 올바른 행위:
- 기존 내용을 읽고 → 새 내용을 적절한 위치에 추가
- 진행 중인 작업이 있다면 해당 작업에 연속하여 기록
- 이전 Walkthrough 하단에 새 결과 추가
- replace_file_content 또는 multi_replace_file_content로 부분 수정
```

### 🔧 도구 사용 원칙 (MANDATORY)

| 상황 | 사용 도구 | 금지 도구 |
|------|-----------|-----------|
| **기존 파일 수정** | `replace_file_content`, `multi_replace_file_content` | ❌ `write_to_file (Overwrite=true)` |
| **신규 파일 생성** | `write_to_file` | - |
| **내용 추가** | `replace_file_content` (끝 부분에 추가) | ❌ 전체 덮어쓰기 |

---

## 🔄 워크플로우 메커니즘: [계획] -> [승인] -> [실행]

### Phase 1: 계획 수립 (Planning Phase)

| 항목 | 내용 |
|------|------|
| **목표** | `Status.md`에 3파트(Implementation Plan, Task List, Walkthrough 틀) 완성 |
| **허용** | 조회(`view_file`, `grep_search`), 설계 문서 작성 |
| **금지** | ❌ 코드 수정 절대 금지 |
| **종료** | 사용자의 "계획 승인", "LGTM", "ㄱㄱ" 등 승인 메시지 확인 시 |

### Phase 2: 실행 및 검증 (Execution Phase)

| 항목 | 내용 |
|------|------|
| **목표** | Task List의 항목을 순차 수행하고 Walkthrough 실시간 기록 |
| **필수** | 🔐 **CRUD 작업 전 사용자 승인 요청** |
| **규칙** | 한 번에 하나의 Task만 수행 → 완료 체크 → Walkthrough 기록 |
| **종료** | 모든 Task 완료(`[x]`) 및 Walkthrough 기록 완료 시 |

---

## 🏗️ 실행 단계 (Execution Steps)

### Step 0. [헤더 참조 및 세계관 동기화] (CRITICAL)
   - 워크플로우 상단의 **`<!-- 📚 참조 문서 시작 -->`** 과 **`<!-- 📚 참조 문서 끝 -->`** 사이에 정의된 **모든 `[태그]: [문서링크]` 형식의 참조 문서**를 식별합니다.
   - 식별된 모든 참조 문서를 `view_file` 도구로 열어 내용을 확인합니다.
   - 각 문서에 정의된 규칙, 명명법, 분류 체계 등의 **세계관(Worldview)**을 완벽히 숙지합니다.
   - ✅ **[분석 결과 보고 필수]**: 헤더 문서 분석이 완료되면 다음 단계 진행 전, 사용자에게 아래 형식으로 결과를 보고합니다:
     ```
     📋 **헤더 분석 완료 보고**
     | 태그명 | 문서명 | 경로 | 핵심 적용 규칙 요약 |
     |--------|--------|------|---------------------|
     | [Header] | [문서명] | [상대경로] | [핵심 규칙 1~2줄 요약] |
     
     ▶ 위 세계관을 기반으로 다음 단계를 진행합니다.
     ```

### Step 1. [작업 준비]
- `_develop/_info/Project_Root.md`를 통해 **`PROJECT_ROOT`** 확인.
- 사용자에게 업무명을 입력받음.
- **📚 기존 문서 확인**: `_DASHBOARD.md`와 기존 Status.md가 있는지 먼저 확인.
- **🔐 CRUD 승인 요청**: `_develop/_ing/[날짜]_[업무명]_Status.md` 생성 전 승인 요청.
- 승인 후 Status.md 생성 및 `_DASHBOARD.md`에 작업 등록 (기존 내용에 추가).

### Step 2. [계획(PRD) 수립] - Planning Phase
- 요구사항 분석 및 기존 코드 조사(`view_file`, `grep_search`).
- `Status.md`에 **3파트 필수 작성**:
  - **Implementation Plan**: 기술적 접근법, 수정 대상 파일, 의존성
  - **Task List**: 체크리스트 형태의 단계별 작업 목록
  - **Walkthrough**: 섹션 틀만 준비 (실행 시 채워짐)
- **사용자 리뷰**: 작성된 계획을 보고하고 피드백 반영.
- ⏸️ **사용자 승인 대기** (LGTM, 승인, ㄱㄱ 등)

### Step 3. [단계별 구현 및 실시간 기록] - Execution Phase
- 사용자 승인 확인 후 실행 단계 시작.
- **📚 기존 내용 확인**: 매 Task 수행 전 Status.md의 현재 상태를 확인.
- **Task-by-Task 실행**:
  1. Task 하나 선택
  2. **🔐 CRUD 승인 요청**: 해당 Task의 파일 변경 내용 설명 후 승인 요청
  3. 승인 후 작업 수행
  4. 즉시 해당 항목 체크(`[x]`)
  5. **Walkthrough에 결과 기록** (기존 내용 하단에 추가)
  6. 다음 Task로 이동
- 모든 Task 완료 시 다음 단계로.

### Step 4. [최종 완료 및 정리]
- 모든 Task 완료 확인.
- `Status.md` 상단 상태를 `✅ 완료`로 변경.
- `_DASHBOARD.md`의 `Completed Tasks`로 이동 (기존 항목 유지).

---

## 📄 Status.md 템플릿 (3파트 필수 구조)

```markdown
# 📋 [업무명] Status

> **상태**: 🟡 계획 수립 중 / 🔵 작업 진행 중 / ✅ 완료
> **작업 경로**: [Project Root 기준 상대경로]
> **생성일**: [YYYY-MM-DD]

---

## 1. 개요 (Overview)
(작업 목적 및 핵심 요구사항 간단 기술)

---

## 2. Implementation Plan

### 2.1 기술적 접근 방식
(어떤 방식으로 구현할 것인지 기술)

### 2.2 수정 대상 파일
| 파일 | 변경 유형 | 변경 내용 요약 |
|------|-----------|----------------|
| [파일경로] | 신규/수정/삭제 | [설명] |

### 2.3 의존성 및 주의사항
(기존 코드와의 충돌 가능성, 주의점 등)

---

## 3. Task List
> 각 Task 완료 시 `[x]`로 체크하고 Walkthrough에 결과 기록

- [ ] **[Task 1]** 설명
- [ ] **[Task 2]** 설명
- [ ] **[Task 3]** 설명

---

## 4. Walkthrough (수행 결과)
> 각 Task 수행 직후 실시간으로 기록 (기존 내용 하단에 추가)

### Task 1: [제목]
**수행 일시**: YYYY-MM-DD HH:mm
**결과**:
- (수행 내용 상세)
- (코드 조각, 로그 등 증빙)

### Task 2: [제목]
(실행 후 기록)

---

## 5. 검증 결과 (Verification)
(최종 테스트 결과, 스크린샷 등)
```
