---
description: 작업 결과물(소스/설정)을 _develop/_result 폴더로 폴더 구조를 유지하며 복사(백업)합니다. (중복 시 백업 보관)
---

이 워크플로우는 특정 업무 수행 후, 생성되거나 수정된 파일들을 `_develop/_result` 디렉토리에 **패치(Patch) 형태**로 모아두기 위해 사용됩니다. 기존 파일이 있다면 안전하게 백업합니다.

**[Header]**: [개발-공통-준수-규칙](./개발-공통-준수-규칙.md)

---

### 실행 단계

1. **[파라미터 수신]**
   - 사용자에게 다음 정보를 요청합니다.
     1. **[업무명]**: 결과물을 저장할 폴더명 (예: `학사DB연동_20240101`)
     2. **[대상 파일 목록]**: 백업할 파일들의 경로 리스트 (절대 경로 허용)
   - 현재 시각(`YYYYMMDD_HHmmss`)을 변수로 확보합니다.

2. **[저장소 준비]**
   - 백업 대상 루트 경로: `_develop/_result/[업무명]`

3. **[파일 복제 실행 (안전 모드)]**
   - 입력받은 각 파일에 대해 반복 수행:
     1. **상대 경로 계산**: [헤더]의 경로 관리 원칙에 따라 프로젝트 루트 기준 상대 경로를 추출합니다.
     2. **타겟 경로 지정**: `_develop/_result/[업무명]/` + `상대 경로`
     3. **중복 검사 및 대피**: 
        - 만약 `타겟 경로`에 이미 파일이 존재한다면?
        - `_develop/_result/[업무명]/_backup/[현재시각]/` 폴더 생성.
        - 기존 파일을 해당 백업 경로로 **이동(Move)** 시킴. (파일명 유지)
     4. **최신본 저장**: 원본 파일을 읽어(`read_file`) 타겟 경로에 씁니다(`write_to_file`).

4. **[결과 명세서 생성 (Indexing)]**
   - 모든 복사가 완료되면 `_develop/_result/[업무명]/_Result_Manifest.md` 파일을 생성/갱신합니다.
   - **내용 구성**:
     ```markdown
     # [업무명] 결과물 명세서
     
     **저장 일시**: [현재시각]
     
     ## 저장된 파일 목록
     - [상대경로1]
     - [상대경로2]
     
     ## 백업 알림
     - 이번 저장으로 [N]개의 기존 파일이 `_backup/[현재시각]` 폴더로 이동되었습니다.
     ```
