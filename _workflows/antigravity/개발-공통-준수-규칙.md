---
description: 모든 워크플로우 실행 시 반드시 선행/병행되어야 하는 공통 헤더 로직과 절대 준수 원칙을 정의합니다.
---

# 🚨 워크플로우 절대 준수 및 공통 헤더 규칙

이 문서는 프로젝트 내 모든 워크플로우(`.agent/workflows/*.md`)가 실행되는 순간부터 종료되는 순간까지 **무조건적으로 따라야 할 공통 로직(Common Logic)**을 정의합니다. 본 워크플로우는 다른 모든 작업의 **'헤더(Header)'** 역할을 하며, 이를 위배하는 모든 작업은 유효하지 않은 것으로 간주합니다.

---

### 1. [헤더] Step 0: 절대적 초기화 (Bootstrapping)

모든 워크플로우는 실행과 동시에 다음의 컨텍스트를 반드시 확보해야 합니다. 이것은 모든 작업의 전제 조건입니다.

0. **[프로젝트 루트 확인 및 확보]**
   - `_develop/_info/Project_Root.md` 파일 존재 여부를 최우선으로 확인합니다.
   - 만약 파일이 없다면 사용자에게 질문하여 생성하고, 확보된 `PROJECT_ROOT` 경로를 모든 파일 작업의 기준점으로 삼습니다.
   - **절대적 금기**: 개인 PC의 로컬 절대 경로(예: `C:\Users\...`)가 결과 문서나 코드에 포함되는 것을 엄격히 금지합니다.

### 2. [공통] 경로 관리 및 맥락 격리 (Context Strategy)

워크플로우가 구동되는 동안 AI는 다음 원칙을 엔진 수준에서 공통 로직으로 수행합니다.

- **상대 경로 치환 서비스**:
  - `read_file`이나 `list_dir` 등으로 얻은 모든 절대 경로는 사용자에게 보고하거나 문서에 기록하기 전, 반드시 프로젝트 루트를 기준으로 한 **상대 경로(Relative Path)**로 자동 변환합니다.
- **내부 지식 우선 (Internal First)**:
  - 외부 라이브러리 지식보다 `_develop/_ref`, `_develop/_lib`에 저장된 현재 프로젝트의 결정 사항을 최우선 진실(Ground Truth)로 채택합니다.
  - "가이드에 따르면" 혹은 "레퍼런스 문서에 의거하여"와 같이 근거를 명시하는 논리 구조를 공통으로 사용합니다.

### 3. [공통] 정밀 분석 표준 (Analysis Standard)

데이터를 읽고 분석하는 모든 단계에서 다음의 **'통합 분석 필터'**를 통과해야 합니다.

- **복합 소스 수집**:
  - 특정 파일 하나만 읽지 않고, 관련된 폴더 구조(`list_dir`)와 설정 파일(XML, Properties)을 함께 스캔하여 입체적인 컨텍스트를 확보합니다.
- **의도 파악 (Intent Sensing)**:
  - 단순 텍스트 처리가 아니라, 사용자가 직접 입력한 코드블록이나 설명의 행간을 읽어 비즈니스 로직의 의도를 분석합니다.

---

> [!IMPORTANT]
> **준수 선언**: 
> AI 에이전트는 이 공통 규칙을 "매 워크플로우 파일마다 코드로 작성되어 있지 않더라도" 이미 메모리에 탑재된 **상수 로직**으로 취급하며, 이를 위반하여 절대 경로를 노출하거나 분석을 소홀히 하는 행위는 시스템 결함으로 판단합니다.
